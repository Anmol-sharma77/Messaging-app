<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <style>
        .cart {
    padding: 12px;
    border: none;
    border-radius: 5px;
    background-color: #0b5ed7;
    color: white;
    font-size: 16px;
    cursor: pointer;
    text-decoration: none;
    user-select: none;
    text-align: center;
    float: right;
}

.cart:hover {
    background-color: #22a29e;
}
    </style>
</head>
<body>

<div class="container mt-5">
    <h1>Dashboard</h1>
    
    <div class="row mt-3">
        <div class="col-md-3">
            <label for="start-date">Start Date:</label>
            <input type="date" id="start-date" class="form-control">
        </div>
        <div class="col-md-3">
            <label for="end-date">End Date:</label>
            <input type="date" id="end-date" class="form-control">
        </div>
        <div class="col-md-3">
            <label>&nbsp;</label>
            <button class="btn btn-primary" onclick="updateDashboard()">Update Dashboard</button>
            <a class="cart" type="submit" href="/">back</a> 
        </div>
    </div>

    <div class="row mt-4">
        <div class="col-md-4">
            <h3>Top 5 Users</h3>
            <table class="table table-bordered">
                <!-- Table content will be dynamically generated -->
            </table>
        </div>
        <div class="col-md-4">
            <h3>Top 5 Groups</h3>
            <table class="table table-bordered">
                <!-- Table content will be dynamically generated -->
            </table>
        </div>
        <div class="col-md-4">
            <h3>Top 5 Regions</h3>
            <table class="table table-bordered">
                <!-- Table content will be dynamically generated -->
            </table>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="/dashboard.js"></script>
<!-- <script>
    function updateDashboard() {
        // Fetch and update tables based on selected date range
        // You can use AJAX or any other method to fetch and update data dynamically
        // For simplicity, let's assume you have a function fetchAndPopulateTables(startDate, endDate) for this purpose
        
        var startDate = document.getElementById("start-date").value;
        var endDate = document.getElementById("end-date").value;
        
        // Call the function to fetch and populate tables
        fetchAndPopulateTables(startDate, endDate);
    }

    // Mock function for fetching and populating tables
    function fetchAndPopulateTables(startDate, endDate) {
        // You should implement logic to fetch data and update tables here
        // This is a mock implementation
        var mockData = [
            { name: "User 1", value: 100 },
            { name: "User 2", value: 90 },
            { name: "User 3", value: 80 },
            { name: "User 4", value: 70 },
            { name: "User 5", value: 60 }
        ];

        updateTable("Top 5 Users", mockData, "User");
        updateTable("Top 5 Groups", mockData, "Group");
        updateTable("Top 5 Regions", mockData, "Region");
    }

    // Function to update tables
    function updateTable(title, data, type) {
        var table = '<thead><tr><th>' + type + '</th><th>Value</th></tr></thead><tbody>';

        for (var i = 0; i < Math.min(data.length, 5); i++) {
            table += '<tr><td>' + data[i].name + '</td><td>' + data[i].value + '</td></tr>';
        }

        table += '</tbody>';

        document.querySelector('h3:contains("' + title + '")').nextElementSibling.innerHTML = table;
    }

    // Custom jQuery-like :contains selector
    jQuery.expr[':'].contains = function(a, i, m) {
        return jQuery(a).text().toUpperCase().indexOf(m[3].toUpperCase()) >= 0;
    };
</script> -->

</body>
</html>
